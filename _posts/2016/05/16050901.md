---

title: Git入门
date: 2016-05-09 18:00:00
tags: Git

---

![][00]


本文主要介绍Git的基础知识。

<!---more--->

## 一、简介

Git是一个版本控制的工具。

## 二、安装

### 01 Windows下Git的安装
Windows下建议安装[Git for Windows](https://git-for-windows.github.io)。安装完成之后在任意路径下的右击菜单中可以看到“Git Bash Here”的菜单。比如在桌面右击，在弹出菜单中选择`Git Bash Here`，可以看到如下界面：

![][02]

### 02 Ubuntu下Git的安装

### 03 Mac下Git的安装

## 三、配置

在完成了安装之后还需要设置名字和邮箱：

```
git config --global user.name "你的名字"
git config --global user.email "你的邮箱名"

```
这里的`--global`参数表明这台电脑上所有的Git仓库都将使用这个用户名和邮箱。

## 四、本地仓库

### 01 仓库的创建
Mac、Ubuntu下打开终端，cd至想要创建仓库的路径；Windows下先进入想要创建仓库的路径，再右击使用`Git Bash Here`菜单，然后输入以下命令：

```
mkdir hello
cd hello
git init
```
这样就创建了一个名为hello的本地仓库。如果直接使用`git init`命令，会以当前的目录为名字创建一个本地仓库。

`git init`命令执行的时候，目录中会生成一个名为“.git”的隐藏目录，该目录不可手动修改或删除，否则仓库将遭到破坏。

### 01 工作区
Git仓库的工作区就是刚刚使用了`git init`命令时所在的那个目录。例如hello这个仓库的工作区就是hello这个文件夹。往hello这个文件夹中添加一个hello.txt文件，文件中写入以下内容：

```
Hello!
```

运行如下命令：

```
git status
```

会出现以下信息：

![][03]

第一行表示在master分支，关于分支，先略过。第二行表示仓库的版本库中还没有任何的提交。

接下去的内容，我们看到刚刚进入工作区的hello.txt文件是untracked状态。这样的状态是无法提交到版本库的。

### 02 暂存区
我们想要把新建hello.txt文本这一改变提交到版本库中，但是不可以直接提交，需要先运行一下命令：
```
git add hello.txt
```
这个命令的作用是把工作区的内容加入到暂存区中。我们不需要关心暂存区的具体物理位置在哪。此时再次运行`git status`：

![][04]

我们发现后面的信息发生了变化，它提示有一个改变可以被提交，这个改变是新加了一个文件hello.txt。此时hello.txt这个文件的状态已经发生了变化，由之前的untracked变成了tracked，其实也是staged，这表示该文件可以直接进行提交操作。

### 03 版本库

运行以下命令：

```
git commit hello.txt -m "My first commit."
```
然后再执行`git status`：

![][05]

这样成功的进行了一次提交操作。运行以下命令：

```
git log
```

![][06]

这里显示的是所有提交到版本库的快照。第一行是版本号，第二行是提交者信息，第三行是提交日期，最后是本次提交的说明。

版本号是像`c87391e...2e14`这样的一大串数字，这个数字是计算出来的，我们显示的版本号肯定是不同的。它可用来进行版本变更。

### 04 版本变更
经过以上操作步骤我们已经成功创建了一个版本快照。下面我们继续对hello.txt文件进行编辑：将文件内容修改为如下：

```
Hello, Git!
```
然后再次运行`git add`以及`git commit`命令：

```
git add hello.txt
git commit hello.txt -m "Edit hello.txt."

```
此时我们再次运行`git log`

![][07]

此时版本中有两个版本，并且最上方的是最新版本。如果想回到上一个版本，需要用到`git reset`命令。注意我用到的版本号是复制我仓库中第一次提交时的版本号，你需要根据实际情况自己修改：

```
git reset --hard c87391e26557642d2005a8c063582becd4572e14
```
或者复制版本号的前面几位也是可以的，但是也不要太短：

```
git reset --hard c87391e
```

![][08]

此时查看工作区的hello.txt文件内容，是不是变回去了？

注意输出信息“HEAD is now at c87391e My fist commit.”。也就是说`git reset --hard`命令改变了HEAD指向的版本号，然后工作区的状态和HEAD指向的版本快照同步。

如果觉得复制版本号太麻烦，也可以有第二种方法。就是用HEAD来表示当前版本号，用HEAD^来表示上一个版本号，用HEAD^^来表示上上个版本号，依次类推。如果比较多，比如上10个，可以用HEAD~10来表示。于是刚才的版本回退也可以这样写`git reset --hard HEAD^`。

此时我们运行`git log`看看版本库的情况：

![][06]

我们发现版本库中只有一个快照了，如果我版本回退之后又后悔了怎么办,我想回到第二次的修改怎么办？只要命令行窗口没有关闭，通过历史记录我们可以看到第二次提交时候的版本号：

```
157f0bc3dfb30ffeeaa1103fc91eaf73dbc6bbd2
```
我们利用版本号的前几位就可以回到第二次提交时的状态了：

```
git reset --hard 157f0bc
```
运行之后，hello.txt内容又回来了：

```
Hello, Git!
```
如果窗口已经关闭了怎么办？试试如下命令：

```
git reflog
```
这个命令会记录每次提交或是版本变更时HEAD指向的版本号。

### 修改的管理


### 分支


## 五、远程仓库

### 01 GitHub介绍

### 02 添加远程仓库

### 03 本地仓库覆盖远程仓库

### 04 远程仓库覆盖本地仓库

### 05 克隆远程仓库至本地

## 总结


## Git命令速查
功能|命令
---|---
新建本地仓库|git init
查看仓库状态|git status
|git diff
|git add .
|git add -A
生成密钥|
|git remote add
|git commit -a -m "提交说明"
|git push origin master
|git pull origin master
|git clone


[00]: /img/2016/05/16050602/00.png
[01]: /img/2016/05/16050602/01.png
[02]: /img/2016/05/16050602/02.png
[03]: /img/2016/05/16050602/03.png
[04]: /img/2016/05/16050602/04.png
[05]: /img/2016/05/16050602/05.png
[06]: /img/2016/05/16050602/06.png
[07]: /img/2016/05/16050602/07.png
[08]: /img/2016/05/16050602/08.png
[09]: /img/2016/05/16050602/09.png
[10]: /img/2016/05/16050602/10.png
[11]: /img/2016/05/16050602/11.png
[12]: /img/2016/05/16050602/12.png
[13]: /img/2016/05/16050602/13.png
[14]: /img/2016/05/16050602/14.png
[15]: /img/2016/05/16050602/15.png
